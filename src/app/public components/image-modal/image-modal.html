<div
  class="modal-overlay"
  *ngIf="imageUrl"
  (click)="onOverlayClick($event)"
  role="dialog"
  aria-modal="true"
  aria-label="Image preview"
>
  <div
    class="modal-content"
    (wheel)="onWheel($event)"
    (click)="onOverlayClick($event)"
  >
    <div
      class="modal-controls"
      role="toolbar"
      aria-label="Image controls"
      (click)="onOverlayClick($event)"
    >
      <button
        class="control-btn"
        (click)="zoomOut()"
        title="Zoom out"
        aria-label="Zoom out"
      >
        −
      </button>
      <button
        class="control-btn"
        (click)="zoomIn()"
        title="Zoom in"
        aria-label="Zoom in"
      >
        +
      </button>
      <button
        class="control-btn close-btn"
        (click)="onClose()"
        aria-label="Close"
      >
        ✕
      </button>
    </div>

    <!-- Image wrapper: when zoomed it becomes scrollable to allow panning -->
    <div
      class="image-wrapper"
      [class.scrollable]="isZoomed"
      (click)="onOverlayClick($event)"
    >
      <img
        class="modal-image"
        [src]="imageUrl"
        alt="Preview"
        (dblclick)="onImageDoubleClick()"
        [style.transform]="'scale(' + zoom + ')'"
        loading="lazy"
        draggable="false"
      />
    </div>
  </div>
</div>
